<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<mal:specification xmlns:mal="http://www.ccsds.org/schema/ServiceSchema" xmlns:com="http://www.ccsds.org/schema/COMSchema" xmlns:svg="http://www.w3.org/2000/svg" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
	<mal:area comment="The Software Management set of services contains services for on-board software management of a spacecraft. The following services are contained in the Software Management set:&#10;The Memory Management service is a low-level service intended to be used to load, dump and check memory addresses.&#10;The Software Image service is intended to manage Software Images and Software Patches by allowing the generation of new Software Images from a patch.&#10;The Package Management service allows the management of software packages on modern operating systems using the concept of packages.&#10;The Apps Launcher service allows the management of runnable applications in a system.&#10;The Heartbeat service publishes a periodic beat to the consumers that are listening.&#10;&#10;This section details the Software Management services. The area and structures are defined in terms of the MO Message Abstraction Layer (MAL), so it is possible to deploy them over any supported protocol and message transport." name="SoftwareManagement" number="7" version="1">
		<mal:service comment="The Memory Management service provides the ability to load, dump and check binary data blocks in known memory addresses from/to a certain memory device." name="MemoryManagement" number="1" xsi:type="com:ExtendedServiceType">
      <mal:documentation name="High Level Requirements" order="1">The Memory Management service shall provide:
&lt;ol&gt;
&lt;li&gt;the capability for loading an on-board's memory device;&lt;/li&gt;
&lt;li&gt;the capability for dumping data from an on-board's memory device and aborting it;&lt;/li&gt;
&lt;li&gt;the capability for checking an on-board's memory device.&lt;/li&gt;
&lt;/ol&gt;
			</mal:documentation>
      <mal:documentation name="Functional Requirements" order="2"/>
			<mal:capabilitySet comment="" number="1">
				<mal:submitIP comment="The loadMemory operation allows a consumer to submit a block of data to a provider for loading the memory of the selected device. The operation shall use the Activity Tracking to report on the progress of the activity." name="loadMemory" number="1" supportInReplay="false">
					<mal:messages>
						<mal:submit comment="">
							<mal:field canBeNull="true" comment="The deviceName field shall contain the name of the destination device. The interpretation of the value is implementation-specific." name="deviceName">
								<mal:type area="MAL" list="false" name="Identifier"/>
							</mal:field>
							<mal:field canBeNull="true" comment="The base field shall contain the base reference of the memory within the memory block." name="base">
								<mal:type area="MAL" list="false" name="UInteger"/>
							</mal:field>
							<mal:field canBeNull="true" comment="The dataBlocks field shall contain the memory block data to be loaded." name="dataBlocks">
								<mal:type area="SoftwareManagement" list="true" name="DataBlock" service="MemoryManagement"/>
							</mal:field>
						</mal:submit>
					</mal:messages>
				
					<mal:errors>
						<mal:errorRef comment="The submitted device is unknown.">
							<mal:type area="SoftwareManagement" list="false" name="UNKNOWN_DEVICE" service="MemoryManagement"/>
						</mal:errorRef>
						<mal:errorRef comment="The submitted base is invalid.">
							<mal:type area="SoftwareManagement" list="false" name="INVALID_ADDRESS" service="MemoryManagement"/>
						</mal:errorRef>
					</mal:errors>
				</mal:submitIP>
			</mal:capabilitySet>
			<mal:capabilitySet comment="" number="2">
				<mal:progressIP comment="The dumpMemory operation allows a consumer to dump memory areas of a selected device from a provider. The dumping process can be aborted by using the identifier provided in the acknowledge phase." name="dumpMemory" number="2" supportInReplay="false">
					<mal:messages>
						<mal:progress comment="">
							<mal:field canBeNull="true" comment="The deviceName field shall contain the name of the destination device. The interpretation of the value is implementation-specific." name="deviceName">
								<mal:type area="MAL" list="false" name="Identifier"/>
							</mal:field>
							<mal:field canBeNull="true" comment="The base field shall contain the base reference of the memory within the memory block." name="base">
								<mal:type area="MAL" list="false" name="UInteger"/>
							</mal:field>
							<mal:field canBeNull="true" comment="The memoryAreas field shall contain the memory areas to be dumped." name="memoryAreas">
								<mal:type area="SoftwareManagement" list="true" name="MemoryArea" service="MemoryManagement"/>
							</mal:field>
            </mal:progress>
						<mal:acknowledgement comment="">
							<mal:field canBeNull="true" comment="The requestId field shall contain the id of the request." name="requestId">
								<mal:type area="MAL" list="false" name="Long"/>
							</mal:field>
						</mal:acknowledgement>
						<mal:update comment="">
							<mal:field canBeNull="true" comment="The dataBlock field shall contain the memory block data being dumped." name="dataBlock">
								<mal:type area="SoftwareManagement" list="false" name="DataBlock" service="MemoryManagement"/>
							</mal:field>
						</mal:update>
						<mal:response comment="">
						</mal:response>
					</mal:messages>
					<mal:errors>
						<mal:errorRef comment="The submitted device is unknown.">
							<mal:type area="SoftwareManagement" list="false" name="UNKNOWN_DEVICE" service="MemoryManagement"/>
						</mal:errorRef>
						<mal:errorRef comment="The submitted base is invalid.">
							<mal:type area="SoftwareManagement" list="false" name="INVALID_ADDRESS" service="MemoryManagement"/>
						</mal:errorRef>
					</mal:errors>
				</mal:progressIP>
				<mal:submitIP comment="The abortMemoryDump operation allows a consumer to abort on-going dumping processes." name="abortMemoryDump" number="3" supportInReplay="false">
					<mal:messages>
						<mal:submit comment="">
							<mal:field canBeNull="true" comment="The requestIds field shall contain the request ids to be aborted." name="requestIds">
								<mal:type area="MAL" list="true" name="Long"/>
							</mal:field>
						</mal:submit>
					</mal:messages>
				</mal:submitIP>
			</mal:capabilitySet>
			<mal:capabilitySet comment="" number="3">
				<mal:invokeIP comment="The checkMemory operation allows a consumer to check memory areas of a selected device. The response contains the checksum for the selected checksum algorithm." name="checkMemory" number="4" supportInReplay="false">
					<mal:messages>
						<mal:invoke comment="">
							<mal:field canBeNull="true" comment="The deviceName field shall contain the name of the destination device. The interpretation of the value is implementation-specific." name="deviceName">
								<mal:type area="MAL" list="false" name="Identifier"/>
							</mal:field>
							<mal:field canBeNull="true" comment="The memoryAreas field shall contain the memory areas to be dumped." name="base">
								<mal:type area="MAL" list="false" name="UInteger"/>
							</mal:field>
							<mal:field canBeNull="true" comment="The checkAreas field shall contain the memory areas to be checked." name="checkAreas">
								<mal:type area="SoftwareManagement" list="true" name="MemoryArea" service="MemoryManagement"/>
							</mal:field>
							<mal:field canBeNull="true" comment="The checksumAlgorithm field shall contain the checksum algorithm to be used." name="checksumAlgorithm">
								<mal:type area="MAL" list="false" name="String"/>
							</mal:field>
						</mal:invoke>
						<mal:acknowledgement comment=""/>
						<mal:response comment="">
							<mal:field canBeNull="true" comment="The checksums field shall contain the generated checksums for the selected memory areas." name="checksums">
								<mal:type area="MAL" list="false" name="Blob"/>
							</mal:field>
						</mal:response>
					</mal:messages>
					<mal:errors>
						<mal:errorRef comment="The submitted device is unknown.">
							<mal:type area="SoftwareManagement" list="false" name="UNKNOWN_DEVICE" service="MemoryManagement"/>
						</mal:errorRef>
						<mal:errorRef comment="The submitted base is invalid.">
							<mal:type area="SoftwareManagement" list="false" name="INVALID_ADDRESS" service="MemoryManagement"/>
						</mal:errorRef>
						<mal:errorRef comment="The requested checksum algorithm is not supported.">
							<mal:type area="SoftwareManagement" list="false" name="UNSUPPORTED_CHECKSUM"/>
						</mal:errorRef>
					</mal:errors>
				</mal:invokeIP>
			</mal:capabilitySet>
			<mal:dataTypes>
				<mal:composite comment="The DataBlock structure holds a block of data." name="DataBlock" shortFormPart="1">
					<mal:extends>
						<mal:type area="MAL" list="false" name="Composite"/>
					</mal:extends>
					<mal:field canBeNull="false" comment="The memory address." name="address">
						<mal:type area="MAL" list="false" name="UInteger"/>
					</mal:field>
					<mal:field canBeNull="false" comment="The data of the block." name="data">
						<mal:type area="MAL" list="false" name="Blob"/>
					</mal:field>
					<mal:field canBeNull="true" comment="A checksum for the data field. The checksum algorithm is implementation-specific." name="checksum">
						<mal:type area="MAL" list="false" name="Blob"/>
					</mal:field>
				</mal:composite>
				<mal:composite comment="The MemoryArea structure holds the description of a memory area." name="MemoryArea" shortFormPart="2">
					<mal:extends>
						<mal:type area="MAL" list="false" name="Composite"/>
					</mal:extends>
					<mal:field canBeNull="false" comment="The address of the Memory." name="address">
						<mal:type area="MAL" list="false" name="UInteger"/>
					</mal:field>
					<mal:field canBeNull="false" comment="The length of the block area." name="length">
						<mal:type area="MAL" list="false" name="UInteger"/>
					</mal:field>
				</mal:composite>
			</mal:dataTypes>
			<mal:errors>
				<mal:error comment="" name="UNKNOWN_DEVICE" number="711"/>
				<mal:error comment="" name="INVALID_ADDRESS" number="712"/>
			</mal:errors>
			<com:features/>
		</mal:service>		
		<mal:service comment="The Software Image service provides the ability to deploy, list, generate, delete, clone and check the integrity of Software Images.&#10;This service can be used to manage Software Images on-board of a spacecraft or to manage Software Images in virtual machines that might run on-board of a spacecraft.&#10;The service supports the generation of a new Image from a previous baseline Image with an additional delta. This allows patching software Images without the need to transfer the complete new Image." name="SoftwareImage" number="2" xsi:type="com:ExtendedServiceType">
			<mal:documentation name="High Level Requirements" order="1">The Software Image service shall provide:
&lt;ol&gt;
&lt;li&gt;to be done;&lt;/li&gt;
&lt;li&gt;to be done;&lt;/li&gt;
&lt;li&gt;to be done.&lt;/li&gt;
&lt;/ol&gt;
All on-board application software shall be updatable by the Ground at any time during the mission.
On-board application software images shall be stored on-board in non-volatile memory.
It shall be possible to add or remove patches to on-board software images stored on-board without the need to reload the entire original image.
In presence of any single failure, the remaining non-volatile memory used to store on-board software images shall have enough space to store at least two different versions of the same software.
Ground shall be provided with the capability to define in non-volatile memory for each on-board processor the main and redundant location of the software image to be used at the next processor reset / reconfiguration.
The process of loading a software image from non-volatile memory to RAM upon boot shall be robust to data corruptions in various parts of the stored image.
			</mal:documentation>
      <mal:documentation name="Functional Requirements" order="2"/>
			<mal:capabilitySet comment="" number="1">
				<mal:submitIP comment="" name="deployImage" number="1" supportInReplay="false">
					<mal:messages>
						<mal:submit comment="">
							<mal:field canBeNull="true" comment="" name="imageInstId">
								<mal:type area="MAL" list="false" name="Long"/>
							</mal:field>
						</mal:submit>
					</mal:messages>
				</mal:submitIP>
			</mal:capabilitySet>
			<mal:capabilitySet comment="" number="2">
				<mal:invokeIP comment="The checkImageIntegrity operation allows a consumer to check the integrity of a software image on the provider. The checksum shall be generated from the checksum algorithm selected by the consumer." name="checkImageIntegrity" number="2" supportInReplay="false">
					<mal:messages>
						<mal:invoke comment="">
							<mal:field canBeNull="true" comment="The imageInstIds shall contain the object instance identifier of the image to be checked." name="imageInstIds">
								<mal:type area="MAL" list="true" name="Long"/>
							</mal:field>
							<mal:field canBeNull="true" comment="" name="checksumAlgorithm">
								<mal:type area="MAL" list="false" name="String"/>
							</mal:field>
						</mal:invoke>
						<mal:acknowledgement comment=""/>
						<mal:response comment="">
							<mal:field canBeNull="true" comment="" name="checksums">
								<mal:type area="MAL" list="true" name="Blob"/>
							</mal:field>
						</mal:response>
					</mal:messages>
					<mal:errors>
						<mal:errorRef comment="The requested checksum algorithm is not supported.">
							<mal:type area="SoftwareManagement" list="false" name="UNSUPPORTED_CHECKSUM"/>
						</mal:errorRef>
					</mal:errors>
				</mal:invokeIP>
			</mal:capabilitySet>
			<mal:capabilitySet comment="" number="3">
				<mal:invokeIP comment="The cloneImage operation allows a consumer to clone a software image on the provider." name="cloneImage" number="3" supportInReplay="false">
					<mal:messages>
						<mal:invoke comment="">
							<mal:field canBeNull="true" comment="" name="imageInstIds">
								<mal:type area="MAL" list="true" name="Long"/>
							</mal:field>
							<mal:field canBeNull="true" comment="" name="newNames">
								<mal:type area="MAL" list="true" name="Identifier"/>
							</mal:field>
						</mal:invoke>
						<mal:acknowledgement comment=""/>
						<mal:response comment="">
							<mal:field canBeNull="true" comment="" name="cloneImageInstIds">
								<mal:type area="MAL" list="true" name="Long"/>
							</mal:field>
						</mal:response>
					</mal:messages>
				</mal:invokeIP>
			</mal:capabilitySet>
			<mal:capabilitySet comment="" number="4">
				<mal:requestIP comment="The listImage operation allows a consumer to request the object instance identifiers of the SoftwareImage objects for the existing Images available on the provider." name="listImage" number="4" supportInReplay="true">
					<mal:messages>
						<mal:request comment="">
							<mal:field canBeNull="true" comment="" name="imageNames">
								<mal:type area="MAL" list="true" name="Identifier"/>
							</mal:field>
						</mal:request>
						<mal:response comment="">
							<mal:field canBeNull="true" comment="" name="imageInstId">
								<mal:type area="MAL" list="true" name="Long"/>
							</mal:field>
						</mal:response>
					</mal:messages>
				</mal:requestIP>
			</mal:capabilitySet>
			<mal:capabilitySet comment="" number="5">
				<mal:invokeIP comment="The patchImage operation allows a consumer to generate a new software image on the provider from a previous baseline Image. The operation can use the Activity Tracking service to report the progress of the generation." name="patchImage" number="5" supportInReplay="false">
					<mal:messages>
						<mal:invoke comment="">
							<mal:field canBeNull="true" comment="" name="baselineImage">
								<mal:type area="MAL" list="false" name="Long"/>
							</mal:field>
							<mal:field canBeNull="true" comment="" name="patchObjId">
								<mal:type area="MAL" list="false" name="Long"/>
							</mal:field>
						</mal:invoke>
						<mal:acknowledgement comment="">
							<mal:field canBeNull="true" comment="" name="estimateDuration">
								<mal:type area="MAL" list="false" name="Duration"/>
							</mal:field>
						</mal:acknowledgement>
						<mal:response comment="">
							<mal:field canBeNull="true" comment="" name="newImageInstId">
								<mal:type area="MAL" list="false" name="Long"/>
							</mal:field>
						</mal:response>
					</mal:messages>
				
				</mal:invokeIP>
				<mal:requestIP comment="" name="addImage" number="6" supportInReplay="false">
					<mal:messages>
						<mal:request comment="">
							<mal:field canBeNull="true" comment="" name="files">
								<mal:type area="MAL" list="true" name="File"/>
							</mal:field>
						
							<mal:field canBeNull="true" comment="" name="imageDefs">
								<mal:type area="SoftwareManagement" list="true" name="ImageDefinition" service="SoftwareImage"/>
							</mal:field>
						</mal:request>
						<mal:response comment="">
							<mal:field canBeNull="true" comment="" name="imageObjIds">
								<mal:type area="MAL" list="true" name="Long"/>
							</mal:field>
						</mal:response>
					</mal:messages>
				</mal:requestIP>
				<mal:submitIP comment="The deleteImage operation allows a consumer to delete software images from the provider." name="deleteImage" number="7" supportInReplay="false">
					<mal:messages>
						<mal:submit comment="">
							<mal:field canBeNull="true" comment="" name="ImageInstIds">
								<mal:type area="MAL" list="true" name="Long"/>
							</mal:field>
						</mal:submit>
					</mal:messages>
				</mal:submitIP>
			</mal:capabilitySet>
			<mal:capabilitySet comment="" number="6">
				<mal:requestIP comment="" name="listPatch" number="8" supportInReplay="true">
					<mal:messages>
						<mal:request comment="">
							<mal:field canBeNull="true" comment="" name="patchName">
								<mal:type area="MAL" list="true" name="Identifier"/>
							</mal:field>
						</mal:request>
						<mal:response comment="">
							<mal:field canBeNull="true" comment="" name="patchObjIds">
								<mal:type area="MAL" list="true" name="Long"/>
							</mal:field>
						</mal:response>
					</mal:messages>
				</mal:requestIP>
			</mal:capabilitySet>
			<mal:capabilitySet comment="" number="7">
				<mal:requestIP comment="" name="addPatch" number="9" supportInReplay="false">
					<mal:messages>
						<mal:request comment="">
							<mal:field canBeNull="true" comment="" name="relatedImageObjIds">
								<mal:type area="MAL" list="true" name="Long"/>
							</mal:field>
						
							<mal:field canBeNull="true" comment="" name="files">
								<mal:type area="MAL" list="true" name="File"/>
							</mal:field>
							<mal:field canBeNull="true" comment="" name="patchDefs">
								<mal:type area="SoftwareManagement" list="false" name="PatchDefinition" service="SoftwareImage"/>
							</mal:field>
						</mal:request>
						<mal:response comment="">
							<mal:field canBeNull="true" comment="" name="patchObjIds">
								<mal:type area="MAL" list="true" name="Long"/>
							</mal:field>
						</mal:response>
					</mal:messages>
				</mal:requestIP>
				<mal:submitIP comment="" name="deletePatch" number="10" supportInReplay="false">
					<mal:messages>
						<mal:submit comment="">
							<mal:field canBeNull="true" comment="" name="patchObjIds">
								<mal:type area="MAL" list="true" name="Long"/>
							</mal:field>
						</mal:submit>
					</mal:messages>
				</mal:submitIP>
			</mal:capabilitySet>
			<mal:dataTypes>
				<mal:composite comment="The ImageDefinition structure holds the definition information of an image." name="ImageDefinition" shortFormPart="3">
					<mal:extends>
						<mal:type area="MAL" list="false" name="Composite"/>
					</mal:extends>
					<mal:field canBeNull="true" comment="The name of the image." name="name">
						<mal:type area="MAL" list="false" name="Identifier"/>
					</mal:field>
					<mal:field canBeNull="true" comment="The description of the image." name="description">
						<mal:type area="MAL" list="false" name="String"/>
					</mal:field>
				</mal:composite>
				<mal:composite comment="The PatchDefinition structure holds the definition information of a patch." name="PatchDefinition" shortFormPart="5">
					<mal:extends>
						<mal:type area="MAL" list="false" name="Composite"/>
					</mal:extends>
					<mal:field canBeNull="true" comment="The name of the patch." name="name">
					<mal:type area="MAL" list="false" name="Identifier"/>
          </mal:field>
					<mal:field canBeNull="true" comment="The description of the patch." name="description">
						<mal:type area="MAL" list="false" name="String"/>
					</mal:field>
				</mal:composite>
			</mal:dataTypes>
			<mal:errors>
				<mal:error comment="The software image cannot be deleted" name="DELETION_FAILED" number="21"/>
			</mal:errors>
			<com:features>
        <mal:diagram name="SoftwareImageObjects">
          <svg:svg height="100" version="1.1" width="700">
            <svg:defs>
              <svg:linearGradient id="box_gradient" x1="0%" x2="100%" y1="0%" y2="0%">
                <svg:stop offset="0%" style="stop-color:rgb(237,227,212);stop-opacity:1"/>
                <svg:stop offset="100%" style="stop-color:rgb(249,239,224);stop-opacity:1"/>
              </svg:linearGradient>
              <svg:marker id="sourceArrow" markerHeight="10" markerWidth="15" orient="auto" refX="0" refY="5">
                <svg:path d="M0,0 V10 L15,5 Z" fill="rgb(255,0,0)"/>
              </svg:marker>
              <svg:marker id="relatedArrow" markerHeight="10" markerWidth="15" orient="auto" refX="0" refY="5">
                <svg:path d="M0,0 V10 L15,5 Z" fill="rgb(0,0,0)"/>
              </svg:marker>
            </svg:defs>
            
            
          <svg:path d="M460,50 L335,50 L210,50" end="Patch" fill="none" marker-mid="url(#sourceArrow)" start="SoftwareImage" stroke="rgb(255,0,0)" stroke-width="1"/>
            <svg:path d="M210,50 L335,50 L460,50" end="SoftwareImage" fill="none" marker-mid="url(#relatedArrow)" start="Patch" stroke="rgb(0,0,0)" stroke-width="1"/>
            <svg:g id="SoftwareImage" transform="translate(400,10)">
              <svg:rect fill="rgb(190,190,190)" height="80" id="shadow" opacity="0.5" rx="0" width="120" x="4" y="4"/>
              <svg:rect fill="url(#box_gradient)" height="80" id="frame" rx="0" stroke="black" stroke-width="2" width="120"/>
              <svg:text fill="navy" font-family="Verdana,Arial" font-size="12" id="object_name" pointer-events="none" text-anchor="middle" x="60" y="25">SoftwareImage</svg:text>
              <svg:text fill="navy" font-family="Verdana,Arial" font-size="12" id="object_number" pointer-events="none" text-anchor="middle" x="60" y="45">1</svg:text>
              <svg:text fill="navy" font-family="Verdana,Arial" font-size="12" id="object_type" pointer-events="none" text-anchor="middle" x="60" y="65">ImageDefinition</svg:text>
            </svg:g>
            <svg:g id="Patch" transform="translate(150,10)">
              <svg:rect fill="rgb(190,190,190)" height="80" id="shadow" opacity="0.5" rx="0" width="120" x="4" y="4"/>
              <svg:rect fill="url(#box_gradient)" height="80" id="frame" rx="0" stroke="black" stroke-width="2" width="120"/>
              <svg:text fill="navy" font-family="Verdana,Arial" font-size="12" id="object_name" pointer-events="none" text-anchor="middle" x="60" y="25">Patch</svg:text>
              <svg:text fill="navy" font-family="Verdana,Arial" font-size="12" id="object_number" pointer-events="none" text-anchor="middle" x="60" y="45">2</svg:text>
              <svg:text fill="navy" font-family="Verdana,Arial" font-size="12" id="object_type" pointer-events="none" text-anchor="middle" x="60" y="65">PatchDefinition</svg:text>
            </svg:g>
          </svg:svg>
        </mal:diagram>
				<com:objects comment="">
					<com:object comment="" name="SoftwareImage" number="1">
						<com:objectType>
							<mal:type area="SoftwareManagement" list="false" name="ImageDefinition" service="SoftwareImage"/>
						</com:objectType>
						<com:relatedObject comment="">
						</com:relatedObject>
						<com:sourceObject comment="If the Software Image was generated from a patch, then the source object field points to the Patch COM object.">
						<com:objectType area="SoftwareManagement" number="2" service="SoftwareImage"/>
            </com:sourceObject>
					</com:object>
					<com:object comment="" name="Patch" number="2">
						<com:objectType>
							<mal:type area="SoftwareManagement" list="false" name="PatchDefinition" service="SoftwareImage"/>
						</com:objectType>
						<com:relatedObject comment="">
						<com:objectType area="SoftwareManagement" number="1" service="SoftwareImage"/>
            </com:relatedObject>
						<com:sourceObject comment=""/>
					</com:object>
				</com:objects>
			</com:features>
		</mal:service>
		
		<mal:service comment="The Package Management service provides the ability to install, uninstall, upgrade, list, check packages. The service shall optionally support verification of packages, verification of digital signatures, upgrade software, manage dependencies.&#10;Packages can be organized in different categories in order to facilitate the management of software." name="PackageManagement" number="3" xsi:type="com:ExtendedServiceType">
      <mal:documentation name="High Level Requirements" order="1">The Package Management service shall provide:
&lt;ol&gt;
&lt;li&gt;the capability for listing, installing and uninstalling packages;&lt;/li&gt;
&lt;li&gt;the capability for upgrading packages;&lt;/li&gt;
&lt;li&gt;the capability for checking the integrity of a package;&lt;/li&gt;
&lt;li&gt;the capability for listing the package categories available on the provider.&lt;/li&gt;
&lt;/ol&gt;
			</mal:documentation>
      <mal:documentation name="Functional Requirements" order="2"/>
			<mal:capabilitySet comment="" number="1">
				<mal:requestIP comment="The findPackage operation allows a consumer to find the available packages on the provider." name="findPackage" number="1" supportInReplay="true">
					<mal:messages>
						<mal:request comment="">
							<mal:field canBeNull="true" comment="The names field contains the names of the packages." name="names">
								<mal:type area="MAL" list="true" name="Identifier"/>
							</mal:field>
						</mal:request>
						<mal:response comment="">
						<mal:field canBeNull="true" comment="The names field contains the names of the packages." name="names">
                <mal:type area="MAL" list="true" name="Identifier"/>
              </mal:field>
            <mal:field canBeNull="true" comment="The installed field shall hold the status of the package." name="installed">
                <mal:type area="MAL" list="true" name="Boolean"/>
              </mal:field>
            </mal:response>
					</mal:messages>
				<mal:errors>
            <mal:errorRef comment="One or more of the requested packages is unknown.">
              <mal:type area="MAL" list="false" name="UNKNOWN"/>
            <mal:extraInformation comment="A list of the indexes of the error values shall be contained in the extra information field.">
                <mal:type area="MAL" list="true" name="Integer"/>
              </mal:extraInformation>
            </mal:errorRef>
          </mal:errors>
        </mal:requestIP>
				<mal:invokeIP comment="The install operation allows a consumer to install the content of a package on the provider. The selected packages will be installed sequencially." name="install" number="2" supportInReplay="false">
					<mal:messages>
						<mal:invoke comment="">
						<mal:field canBeNull="true" comment="The names field contains the names of the packages." name="names">
                <mal:type area="MAL" list="true" name="Identifier"/>
              </mal:field>
            </mal:invoke>
						<mal:acknowledgement comment="">
              <mal:field canBeNull="true" comment="The integrity field contains the status of the package integrity." name="integrity">
                <mal:type area="MAL" list="true" name="Boolean"/>
              </mal:field>
            </mal:acknowledgement>
						<mal:response comment=""/>
					</mal:messages>
          <mal:errors>
            <mal:errorRef comment="One or more of the requested packages is unknown.">
              <mal:type area="MAL" list="false" name="UNKNOWN"/>
              <mal:extraInformation comment="A list of the indexes of the error values shall be contained in the extra information field.">
                <mal:type area="MAL" list="true" name="Integer"/>
              </mal:extraInformation>
            </mal:errorRef>
          <mal:errorRef comment="One or more of the requested packages is already installed.">
              <mal:type area="COM" list="false" name="INVALID"/>
              <mal:extraInformation comment="A list of the indexes of the error values shall be contained in the extra information field.">
                <mal:type area="MAL" list="true" name="Integer"/>
              </mal:extraInformation>
            </mal:errorRef>
          </mal:errors>
        </mal:invokeIP>
				<mal:invokeIP comment="The uninstall operation allows a consumer to uninstall the content of a package on the provider. The selected packages will be uninstalled sequencially." name="uninstall" number="3" supportInReplay="false">
					<mal:messages>
						<mal:invoke comment="">
						<mal:field canBeNull="true" comment="The names field contains the names of the packages." name="names">
                <mal:type area="MAL" list="true" name="Identifier"/>
              </mal:field>
            <mal:field canBeNull="true" comment="The keepConfigurations field selects if the configuration of the executable files shall be kept." name="keepConfigurations">
                <mal:type area="MAL" list="true" name="Boolean"/>
              </mal:field>
            </mal:invoke>
						<mal:acknowledgement comment=""/>
						<mal:response comment=""/>
					</mal:messages>
				<mal:errors>
            <mal:errorRef comment="One or more of the requested packages is unknown.">
              <mal:type area="MAL" list="false" name="UNKNOWN"/>
              <mal:extraInformation comment="A list of the indexes of the error values shall be contained in the extra information field.">
                <mal:type area="MAL" list="true" name="Integer"/>
              </mal:extraInformation>
            </mal:errorRef>
          <mal:errorRef comment="One or more of the requested packages is not installed.">
              <mal:type area="COM" list="false" name="INVALID"/>
            <mal:extraInformation comment="A list of the indexes of the error values shall be contained in the extra information field.">
                <mal:type area="MAL" list="true" name="Integer"/>
              </mal:extraInformation>
            </mal:errorRef>
          </mal:errors>
        </mal:invokeIP>
			</mal:capabilitySet>
			<mal:capabilitySet comment="" number="2">
				<mal:invokeIP comment="The upgrade operation allows a consumer to upgrade the content of a package on the provider. The selected packages will be upgraded sequencially." name="upgrade" number="4" supportInReplay="false">
					<mal:messages>
						<mal:invoke comment="">
						<mal:field canBeNull="true" comment="The names field contains the names of the packages." name="names">
                <mal:type area="MAL" list="true" name="Identifier"/>
              </mal:field>
            </mal:invoke>
						<mal:acknowledgement comment=""/>
						<mal:response comment=""/>
					</mal:messages>
          <mal:errors>
            <mal:errorRef comment="One or more of the requested packages is unknown.">
              <mal:type area="MAL" list="false" name="UNKNOWN"/>
              <mal:extraInformation comment="A list of the indexes of the error values shall be contained in the extra information field.">
                <mal:type area="MAL" list="true" name="Integer"/>
              </mal:extraInformation>
            </mal:errorRef>
          <mal:errorRef comment="One or more of the requested packages is not installed.">
              <mal:type area="COM" list="false" name="INVALID"/>
            <mal:extraInformation comment="A list of the indexes of the error values shall be contained in the extra information field.">
                <mal:type area="MAL" list="true" name="Integer"/>
              </mal:extraInformation>
            </mal:errorRef>
          </mal:errors>
        </mal:invokeIP>
			</mal:capabilitySet>
			<mal:capabilitySet comment="" number="3">
				<mal:requestIP comment="The checkPackageIntegrity operation allows a consumer to check the integrity of a certain package on the provider." name="checkPackageIntegrity" number="5" supportInReplay="false">
					<mal:messages>
						<mal:request comment="">
            <mal:field canBeNull="true" comment="The names field contains the names of the packages." name="names">
                <mal:type area="MAL" list="true" name="Identifier"/>
              </mal:field>
            </mal:request>
						<mal:response comment="">
              <mal:field canBeNull="true" comment="" name="validCRCs">
                <mal:type area="MAL" list="true" name="Boolean"/>
              </mal:field>
            <mal:field canBeNull="true" comment="" name="publicKeys">
                <mal:type area="MAL" list="true" name="String"/>
              </mal:field>
            </mal:response>
					</mal:messages>
				<mal:errors>
            <mal:errorRef comment="One or more of the requested packages is unknown.">
              <mal:type area="MAL" list="false" name="UNKNOWN"/>
              <mal:extraInformation comment="A list of the indexes of the error values shall be contained in the extra information field.">
                <mal:type area="MAL" list="true" name="Integer"/>
              </mal:extraInformation>
            </mal:errorRef>
          </mal:errors>
        </mal:requestIP>
			</mal:capabilitySet>
      <mal:dataTypes>
        <mal:composite comment="The PackageDefinition structure holds the definition information of a package." name="PackageDefinition" shortFormPart="7">
          <mal:extends>
            <mal:type area="MAL" list="false" name="Composite"/>
          </mal:extends>
        <mal:field canBeNull="false" comment="The name of the package." name="name">
            <mal:type area="MAL" list="false" name="Identifier"/>
          </mal:field>
        <mal:field canBeNull="true" comment="The description of the package." name="description">
            <mal:type area="MAL" list="false" name="String"/>
          </mal:field>
          <mal:field canBeNull="false" comment="The category of the package." name="category">
            <mal:type area="MAL" list="false" name="Identifier"/>
          </mal:field>
          <mal:field canBeNull="false" comment="The path of the file where the package is located." name="path">
            <mal:type area="MAL" list="false" name="File"/>
          </mal:field>
        <mal:field canBeNull="true" comment="The publisher of the package. It can be, for example, a company or group of people." name="publisher">
            <mal:type area="MAL" list="false" name="String"/>
          </mal:field>
        </mal:composite>
      <mal:composite comment="The InstallationDetails structure holds the installation details of a certain package." name="InstallationDetails" shortFormPart="8">
          <mal:extends>
            <mal:type area="MAL" list="false" name="Composite"/>
          </mal:extends>
          <mal:field canBeNull="true" comment="The status information about whether a package is/was installed or not." name="installed">
            <mal:type area="MAL" list="false" name="Boolean"/>
          </mal:field>
          <mal:field canBeNull="true" comment="To be done..." name="folderLocation">
            <mal:type area="MAL" list="false" name="String"/>
          </mal:field>
        </mal:composite>
      </mal:dataTypes>
			<mal:errors>
				<mal:error comment="" name="DEPENDENCY_NOT_FOUND" number="31"/>
			</mal:errors>
			<com:features>
        <mal:diagram name="PackageManagementObjects">
          <svg:svg height="200" version="1.1" width="700">
            <svg:defs>
              <svg:linearGradient id="box_gradient" x1="0%" x2="100%" y1="0%" y2="0%">
                <svg:stop offset="0%" style="stop-color:rgb(237,227,212);stop-opacity:1"/>
                <svg:stop offset="100%" style="stop-color:rgb(249,239,224);stop-opacity:1"/>
              </svg:linearGradient>
              <svg:marker id="sourceArrow" markerHeight="10" markerWidth="15" orient="auto" refX="0" refY="5">
                <svg:path d="M0,0 V10 L15,5 Z" fill="rgb(255,0,0)"/>
              </svg:marker>
              <svg:marker id="relatedArrow" markerHeight="10" markerWidth="15" orient="auto" refX="0" refY="5">
                <svg:path d="M0,0 V10 L15,5 Z" fill="rgb(0,0,0)"/>
              </svg:marker>
            </svg:defs>
            <svg:path d="M135,90 L240,90 L345,90" end="Package" fill="none" marker-mid="url(#relatedArrow)" start="Installation" stroke="rgb(0,0,0)" stroke-width="1"/>
            <svg:g id="Package" transform="translate(280,50)">
              <svg:rect fill="rgb(190,190,190)" height="80" id="shadow" opacity="0.5" rx="0" width="130" x="4" y="4"/>
              <svg:rect fill="url(#box_gradient)" height="80" id="frame" rx="0" stroke="black" stroke-width="2" width="130"/>
              <svg:text fill="navy" font-family="Verdana,Arial" font-size="12" id="object_name" pointer-events="none" text-anchor="middle" x="65" y="25">Package</svg:text>
              <svg:text fill="navy" font-family="Verdana,Arial" font-size="12" id="object_number" pointer-events="none" text-anchor="middle" x="65" y="45">1</svg:text>
              <svg:text fill="navy" font-family="Verdana,Arial" font-size="12" id="object_type" pointer-events="none" text-anchor="middle" x="65" y="65">PackageDefinition</svg:text>
            </svg:g>
            <svg:g id="Installation" transform="translate(70,50)">
              <svg:rect fill="rgb(190,190,190)" height="80" id="shadow" opacity="0.5" rx="0" width="130" x="4" y="4"/>
              <svg:rect fill="url(#box_gradient)" height="80" id="frame" rx="0" stroke="black" stroke-width="2" width="130"/>
              <svg:text fill="navy" font-family="Verdana,Arial" font-size="12" id="object_name" pointer-events="none" text-anchor="middle" x="65" y="25">Installation</svg:text>
              <svg:text fill="navy" font-family="Verdana,Arial" font-size="12" id="object_number" pointer-events="none" text-anchor="middle" x="65" y="45">2</svg:text>
              <svg:text fill="navy" font-family="Verdana,Arial" font-size="12" id="object_type" pointer-events="none" text-anchor="middle" x="65" y="65">MAL::Identifier</svg:text>
            </svg:g>
          </svg:svg>
        </mal:diagram>
				<com:objects comment="">
					<com:object comment="" name="Package" number="1">
            <com:objectType>
              <mal:type area="SoftwareManagement" list="false" name="PackageDefinition" service="PackageManagement"/>
            </com:objectType>
						<com:relatedObject comment=""/>
						<com:sourceObject comment=""/>
					</com:object>
				<com:object comment="" name="Installation" number="2">
            <com:objectType>
              <mal:type area="MAL" list="false" name="Identifier"/>
            </com:objectType>
            <com:relatedObject comment="">
              <com:objectType area="SoftwareManagement" number="1" service="PackageManagement"/>
            </com:relatedObject>
            <com:sourceObject comment=""/>
          </com:object>
        </com:objects>
				<com:events comment=""/>
				<com:activityUsage comment="Add the activity tracking for the progress of installation. Also for the Software Image service"/>
			</com:features>
		</mal:service>
		<mal:service comment="The Processes service provides the ability to monitor and manage processes running on-board." name="ProcessManagement" number="4" xsi:type="com:ExtendedServiceType">
      <mal:documentation name="High Level Requirements" order="1"/>
      <mal:documentation name="Functional Requirements" order="2"/>
			<mal:capabilitySet comment="" number="1">
				<mal:pubsubIP comment="" name="monitorProcess" number="1" supportInReplay="false">
					<mal:messages>
						<mal:publishNotify comment="">
							<mal:field canBeNull="true" comment="Add that the PID and the user name shall be passed on the UpdateHeader field." name="processInfo">
								<mal:type area="SoftwareManagement" list="false" name="ProcessInformation" service="ProcessManagement"/>
							</mal:field>
						</mal:publishNotify>
					</mal:messages>
				
				</mal:pubsubIP>
				<mal:submitIP comment="" name="setRate" number="2" supportInReplay="false">
					<mal:messages>
						<mal:submit comment="">
							<mal:field canBeNull="true" comment="Setting it to zero stops the publishing of the stats." name="rate">
								<mal:type area="MAL" list="false" name="Duration"/>
							</mal:field>
						</mal:submit>
					</mal:messages>
				</mal:submitIP>
			</mal:capabilitySet>
			<mal:capabilitySet comment="" number="2">
				<mal:submitIP comment="" name="startProcess" number="5" supportInReplay="false">
					<mal:messages>
						<mal:submit comment=""/>
					</mal:messages>
				</mal:submitIP>
			</mal:capabilitySet>
			<mal:capabilitySet comment="" number="3">
				<mal:submitIP comment="" name="endProcess" number="6" supportInReplay="false">
					<mal:messages>
						<mal:submit comment=""/>
					</mal:messages>
				</mal:submitIP>
			</mal:capabilitySet>
			<mal:capabilitySet comment="" number="4">
				<mal:requestIP comment="" name="getProcessSummary" number="7" supportInReplay="false">
					<mal:messages>
						<mal:request comment="">
              <mal:field canBeNull="true" comment="" name="processesInfo">
                <mal:type area="SoftwareManagement" list="false" name="ProcessInformation" service="ProcessManagement"/>
              </mal:field>
            </mal:request>
						<mal:response comment=""/>
					</mal:messages>
				</mal:requestIP>
			</mal:capabilitySet>
			<mal:dataTypes>
				<mal:composite comment="The ProcessInformation structure holds the information of a certain process." name="ProcessInformation" shortFormPart="6">
					<mal:extends>
						<mal:type area="MAL" list="false" name="Composite"/>
					</mal:extends>
					<mal:field canBeNull="true" comment="The percentage of CPU time." name="cpuPercentage">
						<mal:type area="MAL" list="false" name="Float"/>
					</mal:field>
					<mal:field canBeNull="true" comment="The percentage of Memory used." name="memoryPercentage">
					<mal:type area="MAL" list="false" name="Float"/>
          </mal:field>
					<mal:field canBeNull="true" comment="The priority of the process." name="priority">
					<mal:type area="MAL" list="false" name="Integer"/>
          </mal:field>
					<mal:field canBeNull="true" comment="The virtual memory used." name="virt">
            <mal:type area="MAL" list="false" name="Float"/>
          </mal:field>
					<mal:field canBeNull="true" comment="The physical memory used." name="res">
            <mal:type area="MAL" list="false" name="Float"/>
          </mal:field>
					<mal:field canBeNull="true" comment="The shared memory used." name="shr">
					<mal:type area="MAL" list="false" name="Float"/>
          </mal:field>
				<mal:field canBeNull="true" comment="The state of the process." name="status">
            <mal:type area="SoftwareManagement" list="false" name="ProcessState" service="ProcessManagement"/>
          </mal:field>
					<mal:field canBeNull="true" comment="Total CPU Time." name="timeCPU">
					<mal:type area="MAL" list="false" name="Duration"/>
          </mal:field>
					<mal:field canBeNull="true" comment="Command name." name="command">
						<mal:type area="MAL" list="false" name="String"/>
					</mal:field>
        </mal:composite>
			<mal:enumeration comment="The ProcessState enumeration holds a set of process state codes." name="ProcessState" shortFormPart="9">
          <mal:item comment="The running or runnable state." nvalue="1" value="Running"/>
        <mal:item comment="The uninterruptible sleep state." nvalue="2" value="UninterruptibleSleep"/>
          <mal:item comment="The interruptible sleep state." nvalue="3" value="InterruptibleSleep"/>
          <mal:item comment="The zombie/defunct stated. Terminated but not reap by its parent." nvalue="4" value="Zombie"/>
          <mal:item comment="The stopped state. Either by a job control signal or because it is being traced." nvalue="5" value="Stopped"/>
        </mal:enumeration>
      </mal:dataTypes>
		<com:features/>
    </mal:service>		
		<mal:service comment="The Apps Launcher service provides the ability to monitor the execution, run, stop, kill and list applications software on-board of a spacecraft. The apps can be organized in categories.&#10;The service is independent from any particular Operating System or platform. " name="AppsLauncher" number="5" xsi:type="com:ExtendedServiceType">
      <mal:documentation name="High Level Requirements" order="1">The Apps Launcher service shall provide:
&lt;ol&gt;
&lt;li&gt;the capability for periodic monitoring of the applications output;&lt;/li&gt;
&lt;li&gt;the capability for running and killing applications;&lt;/li&gt;
&lt;li&gt;the capability for stopping applications;&lt;/li&gt;
&lt;li&gt;the capability for listing the object instance identifiers for the available apps.&lt;/li&gt;
&lt;/ol&gt;
			</mal:documentation>
      <mal:documentation name="Functional Requirements" order="2"/>
			<mal:capabilitySet comment="" number="1">
				<mal:pubsubIP comment="The monitorExecution operation allows a consumer to subscribe for the application execution output stream." name="monitorExecution" number="1" supportInReplay="false">
					<mal:messages>
						<mal:publishNotify comment="">
							<mal:field canBeNull="true" comment="The outputStream field shall contain a stream of characters corresponding to the output stream of the application.&#10;The MAL EntityKey.firstSubKey shall contain the App name.&#10;The MAL EntityKey.secondSubKey shall contain the AppDetails object instance identifier.&#10;The MAL EntityKey.thirdSubKey shall be NULL.&#10;The MAL EntityKey.fourthSubKey shall be NULL.&#10;The timestamp of the update shall be the on-board time when the update was published.&#10;The publish message shall include the ObjectId of the source link of the update.&#10;If no source link is needed then the ObjectId shall be replaced with a NULL." name="outputStream">
								<mal:type area="MAL" list="false" name="String"/>
							</mal:field>
						</mal:publishNotify>
					</mal:messages>
				</mal:pubsubIP>
			</mal:capabilitySet>
			<mal:capabilitySet comment="" number="2">
				<mal:submitIP comment="The runApp operation allows a consumer to run an application on the provider.  An object instance identifier is returned for further monitoring of the application execution in the monitorExecution operation." name="runApp" number="2" supportInReplay="false">
					<mal:messages>
						<mal:submit comment="">
							<mal:field canBeNull="true" comment="The appInstIds field contains the list of apps to run." name="appInstIds">
								<mal:type area="MAL" list="true" name="Long"/>
							</mal:field>
						</mal:submit>
					</mal:messages>
				<mal:errors>
            <mal:errorRef comment="One or more of the requested apps to run is unknown.">
              <mal:type area="MAL" list="false" name="UNKNOWN"/>
              <mal:extraInformation comment="A list of the indexes of the error values shall be contained in the extra information field.">
                <mal:type area="MAL" list="true" name="UInteger"/>
              </mal:extraInformation>
            </mal:errorRef>
          <mal:errorRef comment="One or more of the requested apps is already running.">
              <mal:type area="COM" list="false" name="INVALID"/>
              <mal:extraInformation comment="A list of the indexes of the error values shall be contained in the extra information field.">
                <mal:type area="MAL" list="true" name="UInteger"/>
              </mal:extraInformation>
            </mal:errorRef>
          <mal:errorRef comment="The process of the app could not be started.">
              <mal:type area="MAL" list="false" name="INTERNAL"/>
              <mal:extraInformation comment="A list of the indexes of the error values shall be contained in the extra information field.">
                <mal:type area="MAL" list="true" name="UInteger"/>
              </mal:extraInformation>
            </mal:errorRef>
          </mal:errors>
        </mal:submitIP>
				<mal:submitIP comment="The killApp operation allows a consumer to kill the execution of an application on the provider in case an application becomes unresponsive." name="killApp" number="3" supportInReplay="false">
					<mal:messages>
						<mal:submit comment="">
							<mal:field canBeNull="true" comment="The appInstIds field contains the list of apps to be killed." name="appInstIds">
								<mal:type area="MAL" list="true" name="Long"/>
							</mal:field>
						</mal:submit>
					</mal:messages>
				<mal:errors>
            <mal:errorRef comment="One or more of the requested apps to be killed is unknown.">
              <mal:type area="MAL" list="false" name="UNKNOWN"/>
              <mal:extraInformation comment="A list of the indexes of the error values shall be contained in the extra information field.">
                <mal:type area="MAL" list="true" name="UInteger"/>
              </mal:extraInformation>
            </mal:errorRef>
          <mal:errorRef comment="One or more of the requested apps is not running.">
              <mal:type area="COM" list="false" name="INVALID"/>
              <mal:extraInformation comment="A list of the indexes of the error values shall be contained in the extra information field.">
                <mal:type area="MAL" list="true" name="UInteger"/>
              </mal:extraInformation>
            </mal:errorRef>
          </mal:errors>
				</mal:submitIP>
			</mal:capabilitySet>
			<mal:capabilitySet comment="" number="3">
				<mal:progressIP comment="The stopApp operation allows a consumer to stop the execution of an application on the provider." name="stopApp" number="4" supportInReplay="false">
          <mal:messages>
            <mal:progress comment="">
              <mal:field canBeNull="true" comment="The appInstIds field contains the list of apps to stop." name="appInstIds">
                <mal:type area="MAL" list="true" name="Long"/>
              </mal:field>
            </mal:progress>
            <mal:acknowledgement comment=""/>
            <mal:update comment="">
              <mal:field canBeNull="true" comment="The appClosing field shall contain the object instance identifier of an app. This update shall be sent after the app acknowledges the reception of the command to stop." name="appClosing">
                <mal:type area="MAL" list="false" name="Long"/>
              </mal:field>
            </mal:update>
            <mal:response comment=""/>
          </mal:messages>
        </mal:progressIP>
			</mal:capabilitySet>
			<mal:capabilitySet comment="" number="4">
				<mal:requestIP comment="The listApp operation allows a consumer to request the object instance identifiers of the Apps objects and running status for an app name or for a certain app category." name="listApp" number="5" supportInReplay="true">
					<mal:messages>
						<mal:request comment="">
							<mal:field canBeNull="true" comment="The appNames field contains a list of application names." name="appNames">
								<mal:type area="MAL" list="true" name="Identifier"/>
							</mal:field>
							<mal:field canBeNull="true" comment="The category field contains the category identifier to filter on." name="category">
								<mal:type area="MAL" list="false" name="Identifier"/>
							</mal:field>
						</mal:request>
						<mal:response comment="">
							<mal:field canBeNull="true" comment="The appInstIds field contains a list of apps." name="appInstIds">
								<mal:type area="MAL" list="true" name="Long"/>
							</mal:field>
							<mal:field canBeNull="true" comment="The running field contains a list of boolean values with the information about thte running status of requested apps.&#10;The returned lists shall maintain the same order as the submitted list unless the wildcard value was included in the appNames field request." name="running">
								<mal:type area="MAL" list="true" name="Boolean"/>
							</mal:field>
						</mal:response>
					</mal:messages>
				<mal:errors>
            <mal:errorRef comment="One or more of the requested apps to run is unknown.">
              <mal:type area="MAL" list="false" name="UNKNOWN"/>
              <mal:extraInformation comment="A list of the indexes of the error values shall be contained in the extra information field.">
                <mal:type area="MAL" list="true" name="UInteger"/>
              </mal:extraInformation>
            </mal:errorRef>
          </mal:errors>
        </mal:requestIP>
			</mal:capabilitySet>
			<mal:dataTypes>
				<mal:composite comment="The AppDetails structure holds the details of an instance of an app." name="AppDetails" shortFormPart="1">
					<mal:extends>
						<mal:type area="MAL" list="false" name="Composite"/>
					</mal:extends>
					<mal:field canBeNull="false" comment="The name of the app. Must not be empty or wildcard value." name="name">
						<mal:type area="MAL" list="false" name="Identifier"/>
					</mal:field>
        <mal:field canBeNull="false" comment="The description of the app." name="description">
            <mal:type area="MAL" list="false" name="String"/>
          </mal:field>
        <mal:field canBeNull="false" comment="The version of the app." name="version">
            <mal:type area="MAL" list="false" name="String"/>
          </mal:field>
		<mal:field canBeNull="false" comment="The category of the app." name="category">
			<mal:type area="MAL" list="false" name="Identifier"/>
          </mal:field>
        <mal:field canBeNull="false" comment="Controls whether the app runs at startup." name="runAtStartup">
          <mal:type area="MAL" list="false" name="Boolean"/>
          </mal:field>
				<mal:field canBeNull="false" comment="The current running state of the app." name="running">
          <mal:type area="MAL" list="false" name="Boolean"/>
          </mal:field>
        <mal:field canBeNull="true" comment="Additional information that might be implementation-specific." name="extraInfo">
            <mal:type area="MAL" list="false" name="String"/>
          </mal:field>
        <mal:field canBeNull="true" comment="The copyright of the app." name="copyright">
            <mal:type area="MAL" list="false" name="String"/>
          </mal:field>
          <mal:field canBeNull="true" comment="The icon location path of the app. It can be either to a remote link or to a local file." name="iconPath">
            <mal:type area="MAL" list="false" name="String"/>
          </mal:field>
        </mal:composite>
      </mal:dataTypes>
			<com:features>
        <mal:diagram name="AppsLauncherObjects">
          <svg:svg height="300" version="1.1" width="760">
            <svg:defs>
              <svg:linearGradient id="box_gradient" x1="0%" x2="100%" y1="0%" y2="0%">
                <svg:stop offset="0%" style="stop-color:rgb(237,227,212);stop-opacity:1"/>
                <svg:stop offset="100%" style="stop-color:rgb(249,239,224);stop-opacity:1"/>
              </svg:linearGradient>
              <svg:marker id="sourceArrow" markerHeight="10" markerWidth="15" orient="auto" refX="0" refY="5">
                <svg:path d="M0,0 V10 L15,5 Z" fill="rgb(255,0,0)"/>
              </svg:marker>
              <svg:marker id="relatedArrow" markerHeight="10" markerWidth="15" orient="auto" refX="0" refY="5">
                <svg:path d="M0,0 V10 L15,5 Z" fill="rgb(0,0,0)"/>
              </svg:marker>
            </svg:defs>
            
            
            
          
            
            
            
          
            
            
            
            
          <svg:path d="M220,188 L301,188 L383,187" end="App" fill="none" marker-mid="url(#relatedArrow)" start="StopApp" stroke="rgb(0,0,0)" stroke-width="1"/>
            <svg:path d="M220,188 L220,119 L220,50" end="COM::ActivityTracking::OperationActivity" fill="none" marker-mid="url(#sourceArrow)" start="StopApp" stroke="rgb(255,0,0)" stroke-width="1"/>
            <svg:path d="M57,155 L138,171 L220,188" end="StopApp" fill="none" marker-mid="url(#sourceArrow)" start="Stopping" stroke="rgb(255,0,0)" stroke-width="1"/>
            
            
            
            
          <svg:path d="M383,187 L507,187 L631,188" end="PackageManagement::Installation" fill="none" marker-mid="url(#sourceArrow)" start="App" stroke="rgb(255,0,0)" stroke-width="1"/>
            <svg:path d="M60,245 L140,217 L220,188" end="StopApp" fill="none" marker-mid="url(#sourceArrow)" start="Stopped" stroke="rgb(255,0,0)" stroke-width="1"/>
            <svg:g id="Stopping" transform="translate(7,115)">
              <svg:rect fill="rgb(190,190,190)" height="80" id="shadow" opacity="0.5" rx="15" width="100" x="4" y="4"/>
              <svg:rect fill="url(#box_gradient)" height="80" id="frame" rx="15" stroke="black" stroke-width="2" width="100"/>
              <svg:text fill="navy" font-family="Verdana,Arial" font-size="12" id="object_name" pointer-events="none" text-anchor="middle" x="50" y="35">Stopping</svg:text>
              <svg:text fill="navy" font-family="Verdana,Arial" font-size="12" id="object_number" pointer-events="none" text-anchor="middle" x="50" y="55">3</svg:text>
              <svg:text fill="navy" font-family="Verdana,Arial" font-size="12" id="object_type" pointer-events="none" text-anchor="middle" x="50" y="75"/>
            </svg:g>
            <svg:g id="Stopped" transform="translate(25,215)">
              <svg:rect fill="rgb(190,190,190)" height="60" id="shadow" opacity="0.5" rx="15" width="70" x="4" y="4"/>
              <svg:rect fill="url(#box_gradient)" height="60" id="frame" rx="15" stroke="black" stroke-width="2" width="70"/>
              <svg:text fill="navy" font-family="Verdana,Arial" font-size="12" id="object_name" pointer-events="none" text-anchor="middle" x="35" y="25">Stopped</svg:text>
              <svg:text fill="navy" font-family="Verdana,Arial" font-size="12" id="object_number" pointer-events="none" text-anchor="middle" x="35" y="45">4</svg:text>
              <svg:text fill="navy" font-family="Verdana,Arial" font-size="12" id="object_type" pointer-events="none" text-anchor="middle" x="35" y="65"/>
            </svg:g>
            <svg:g id="StopApp" transform="translate(165,148)">
              <svg:rect fill="rgb(190,190,190)" height="80" id="shadow" opacity="0.5" rx="15" width="110" x="4" y="4"/>
              <svg:rect fill="url(#box_gradient)" height="80" id="frame" rx="15" stroke="black" stroke-width="2" width="110"/>
              <svg:text fill="navy" font-family="Verdana,Arial" font-size="12" id="object_name" pointer-events="none" text-anchor="middle" x="55" y="25">StopApp</svg:text>
              <svg:text fill="navy" font-family="Verdana,Arial" font-size="12" id="object_number" pointer-events="none" text-anchor="middle" x="55" y="45">2</svg:text>
              <svg:text fill="navy" font-family="Verdana,Arial" font-size="12" id="object_type" pointer-events="none" text-anchor="middle" x="55" y="65">MAL::Identifier</svg:text>
            </svg:g>
            <svg:g id="COM::ActivityTracking::OperationActivity" transform="translate(85,10)">
              <svg:rect fill="rgb(190,190,190)" height="80" id="shadow" opacity="0.5" rx="0" width="270" x="4" y="4"/>
              <svg:rect fill="url(#box_gradient)" height="80" id="frame" rx="0" stroke="black" stroke-width="2" width="270"/>
              <svg:text fill="navy" font-family="Verdana,Arial" font-size="12" id="object_name" pointer-events="none" text-anchor="middle" x="135" y="25">COM::ActivityTracking::OperationActivity</svg:text>
              <svg:text fill="navy" font-family="Verdana,Arial" font-size="12" id="object_number" pointer-events="none" text-anchor="middle" x="135" y="45">6</svg:text>
              <svg:text fill="navy" font-family="Verdana,Arial" font-size="12" id="object_type" pointer-events="none" text-anchor="middle" x="135" y="65">COM::ActivityTracking::OperationActivity</svg:text>
            </svg:g>
            <svg:g id="App" transform="translate(333,147)">
              <svg:rect fill="rgb(190,190,190)" height="80" id="shadow" opacity="0.5" rx="0" width="100" x="4" y="4"/>
              <svg:rect fill="url(#box_gradient)" height="80" id="frame" rx="0" stroke="black" stroke-width="2" width="100"/>
              <svg:text fill="navy" font-family="Verdana,Arial" font-size="12" id="object_name" pointer-events="none" text-anchor="middle" x="50" y="25">App</svg:text>
              <svg:text fill="navy" font-family="Verdana,Arial" font-size="12" id="object_number" pointer-events="none" text-anchor="middle" x="50" y="45">1</svg:text>
              <svg:text fill="navy" font-family="Verdana,Arial" font-size="12" id="object_type" pointer-events="none" text-anchor="middle" x="50" y="65">AppDetails</svg:text>
            </svg:g>
            <svg:g id="PackageManagement::Installation" transform="translate(519,148)">
              <svg:rect fill="rgb(190,190,190)" height="80" id="shadow" opacity="0.5" rx="0" width="225" x="4" y="4"/>
              <svg:rect fill="url(#box_gradient)" height="80" id="frame" rx="0" stroke="black" stroke-width="2" width="225"/>
              <svg:text fill="navy" font-family="Verdana,Arial" font-size="12" id="object_name" pointer-events="none" text-anchor="middle" x="112" y="25">PackageManagement::Installation</svg:text>
              <svg:text fill="navy" font-family="Verdana,Arial" font-size="12" id="object_number" pointer-events="none" text-anchor="middle" x="112" y="45">2</svg:text>
              <svg:text fill="navy" font-family="Verdana,Arial" font-size="12" id="object_type" pointer-events="none" text-anchor="middle" x="112" y="65">MAL::Identifier</svg:text>
            </svg:g>
          </svg:svg>
        </mal:diagram>
				<com:objects comment="An App COM object represents an on-board application. The COM object body shall hold the details of the application.&#10;&lt;ol&gt;&#10;&lt;li&gt;The App COM object source link should point to the package from where the app was installed.&lt;/li&gt;&#10;&lt;/ol&gt;">
					<com:object comment="" name="App" number="1">
            <com:objectType>
              <mal:type area="SoftwareManagement" list="false" name="AppDetails" service="AppsLauncher"/>
            </com:objectType>
						<com:relatedObject comment=""/>
						<com:sourceObject comment="">
              <com:objectType area="SoftwareManagement" number="2" service="PackageManagement"/>
            </com:sourceObject>
					</com:object>
				
				</com:objects>
				<com:events comment="A StopApp COM event represents a request to stop a certain application. The COM event object body shall hold the name of the provider to be stopped.&#10;&lt;ol&gt;&#10;&lt;li&gt;The StopApp COM event related link shall point to the App COM object.&lt;/li&gt;&#10;&lt;li&gt;The StopApp COM event source link should point to the object that caused it to be created, most likely a COM OperationActivity object.&lt;/li&gt;&#10;&lt;li&gt;The StopApp COM event shall be generated by the stopApp operation.&lt;/li&gt;&#10;&lt;/ol&gt;&#10;A Stopping COM event represents an acknowledgement that the application is stopping its execution.&#10;&lt;ol&gt;&#10;&lt;li&gt;The Stopping COM event source link shall point to the StopApp COM event that requested the application to stop or to null if there was no request.&lt;/li&gt;&#10;&lt;li&gt;The Stopping COM event shall be generated by the application when it is going to stop its execution.&lt;/li&gt;&#10;&lt;/ol&gt;&#10;A Stopped COM event represents an acknowledgement that the application is going to completely stop its execution.&#10;&lt;ol&gt;&#10;&lt;li&gt;The Stopping COM event source link shall point to the StopApp COM event that requested the application to stop or to null if there was no request.&lt;/li&gt;&#10;&lt;li&gt;The Stopping COM event shall be generated by the application when it is completely stopping its execution.&lt;/li&gt;&#10;&lt;/ol&gt;">
					<com:event comment="This event is generated upon receiving a request to stop a certain app." name="StopApp" number="2">
            <com:objectType>
              <mal:type area="MAL" list="false" name="Identifier"/>
            </com:objectType>
						<com:relatedObject comment="">
							<com:objectType area="SoftwareManagement" number="1" service="AppsLauncher"/>
						</com:relatedObject>
						<com:sourceObject comment="">
              <com:objectType area="COM" number="6" service="ActivityTracking"/>
            </com:sourceObject>
					</com:event>
				
				<com:event comment="This event is generated by the app is going to be stopped." name="Stopping" number="3">
            <com:relatedObject comment=""/>
            <com:sourceObject comment="The source object shall be the StopApp event.">
              <com:objectType area="SoftwareManagement" number="2" service="AppsLauncher"/>
            </com:sourceObject>
          </com:event>
        <com:event comment="This event is generated by the app right before stopping completely." name="Stopped" number="4">
            <com:relatedObject comment=""/>
            <com:sourceObject comment="The source object shall be the StopApp event.">
              <com:objectType area="SoftwareManagement" number="2" service="AppsLauncher"/>
            </com:sourceObject>
          </com:event>
        </com:events>
			</com:features>
		</mal:service>
		<mal:service comment="The Heartbeat service provides the ability to periodically publish a heartbeat message. Additionally it is possible to get the period of the beat." name="Heartbeat" number="6" xsi:type="com:ExtendedServiceType">
			<mal:documentation name="High Level Requirements" order="1">The Heartbeat service shall provide:
&lt;ol&gt;
&lt;li&gt;the capability for periodic monitoring of the beat;&lt;/li&gt;
&lt;li&gt;the capability for retrieving the period of the beat.&lt;/li&gt;
&lt;/ol&gt;
			</mal:documentation>
      <mal:documentation name="Functional Requirements" order="2"/>
			<mal:capabilitySet comment="" number="1">
				<mal:pubsubIP comment="The beat operation allows a provider to periodically send a heartbeat to the consumers." name="beat" number="1" supportInReplay="false">
					<mal:messages>
						<mal:publishNotify comment="">
						</mal:publishNotify>
					</mal:messages>
				</mal:pubsubIP>
			</mal:capabilitySet>
			<mal:capabilitySet comment="" number="2">
				<mal:requestIP comment="The getPeriod operation allows a consumer to get the period of the provider's heartbeat." name="getPeriod" number="2" supportInReplay="true">
					<mal:messages>
						<mal:request comment=""/>
						<mal:response comment="">
							<mal:field canBeNull="true" comment="The period field shall hold period of the heartbeat message." name="period">
								<mal:type area="MAL" list="false" name="Duration"/>
							</mal:field>
						</mal:response>
					</mal:messages>
				</mal:requestIP>
			</mal:capabilitySet>
		<com:features/>
    </mal:service>

		<mal:dataTypes>
			<mal:enumeration comment="The Checksum enumeration holds common checksums." name="Checksum" shortFormPart="1">
				<mal:item comment="The MD5 checksum." nvalue="1" value="MD5"/>
				<mal:item comment="The SHA1 checksum." nvalue="2" value="SHA1"/>
				<mal:item comment="The SHA256 checksum." nvalue="3" value="SHA256"/>
				<mal:item comment="The CRC checksum." nvalue="4" value="CRC"/>
			</mal:enumeration>
		</mal:dataTypes>
		<mal:errors>
			<mal:error comment="The checksum is not supported." name="UNSUPPORTED_CHECKSUM" number="1"/>
		</mal:errors>
	</mal:area>
</mal:specification>
